{
  "title": "My 2025 high-end Linux PC üêß",
  "link": "https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/",
  "published": "2025-05-15T15:44:24+02:00",
  "summary": "<aside class=\"admonition note\">\n  <div class=\"note-container\">\n    <div class=\"note-icon\" style=\"width: 20px; height: 20px;\">\n      <svg height=\"100%\" id=\"exclamation-icon\" version=\"1.1\" viewBox=\"0 0 24 24\" width=\"100%\" xml:space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n    <path d=\"M0,0L24,0L24,24L0,24L0,0Z\">\n    <g transform=\"matrix(1.2,0,0,1.2,-2.4,-2.4)\">\n        <path d=\"M12,2C6.48,2 2,6.48 2,12C2,17.52 6.48,22 12,22C17.52,22 22,17.52 22,12C22,6.48 17.52,2 12,2ZM13,17L11,17L11,15L13,15L13,17ZM13,13L11,13L11,7L13,7L13,13Z\">\n    </g>\n</svg>\n\n    </div>\n    <div class=\"admonition-content\"><strong>Update (2025-09-07):</strong> The replacement CPU also died and I have given up on\nIntel. See <a href=\"/posts/2025-09-07-bye-intel-hi-amd-9950x3d/\">Bye Intel, hi AMD!</a> for\nmore details on the AMD 9950X3D.</div>\n  </div>\n</aside>\n\n<p>Turns out <a href=\"/posts/2025-03-19-intel-core-ultra-9-285k-on-asus-z890-not-stable/\">my previous attempt at this build had a faulty\nCPU!</a> With\nthe CPU replaced, the machine now is stable and fast! üöÄ In this article, I‚Äôll\ngo into a lot more detail about the component selection, but in a nutshell, I\npicked an Intel 285K CPU for low idle power, chose a 4TB SSD so I don‚Äôt have to\nworry about running out of storage quickly, and a capable nvidia graphics card\nto <a href=\"/posts/2017-12-11-dell-up3218k/\">drive my Dell UP3218K 8K monitor</a>.</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_4795_featured.jpg\"><img height=\"800\" src=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_4795_featured_hu_90d519e68715b8d6.jpg\" style=\"border: 1px solid #000;\" width=\"600\" /></a>\n\n\n\n<h2 id=\"components\">Components</h2>\n<p>Which components did I pick for this build? Here‚Äôs the full list:</p>\n<table>\n  <thead>\n      <tr>\n          <th>Price</th>\n          <th>Type</th>\n          <th>Article</th>\n      </tr>\n  </thead>\n  <tbody>\n      <tr>\n          <td>140 CHF</td>\n          <td>Case</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/fractal-define-7-compact-black-solid-atx-matx-mini-itx-pc-gehaeuse-13220301\">Fractal Define 7 Compact Black Solid</a></td>\n      </tr>\n      <tr>\n          <td>155 CHF</td>\n          <td>Power Supply</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/corsair-rm850x-850-w-pc-netzteil-47356173?supplier=8560040\">Corsair RM850x</a></td>\n      </tr>\n      <tr>\n          <td>233 CHF</td>\n          <td>Mainboard</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/asus-prime-z890-p-lga-1851-intel-z890-atx-mainboard-50252296\">ASUS PRIME Z890-P</a></td>\n      </tr>\n      <tr>\n          <td>620 CHF</td>\n          <td>CPU</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/intel-core-ultra-9-285k-lga-1851-370-ghz-24-core-prozessor-49734792\">Intel Core Ultra 9 285K</a></td>\n      </tr>\n      <tr>\n          <td>120 CHF</td>\n          <td>CPU fan</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/noctua-nh-d15-g2-168-mm-cpu-kuehler-46985628\">Noctua NH-D15 G2</a></td>\n      </tr>\n      <tr>\n          <td>39 CHF</td>\n          <td>Case fan</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/noctua-nf-a14-pwm-140-mm-1-x-pc-luefter-657800?supplier=3204073\">Noctua NF-A14 PWM (140 mm)</a></td>\n      </tr>\n      <tr>\n          <td>209 CHF</td>\n          <td>RAM</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/corsair-vengeance-2-x-32gb-6400-mhz-ddr5-ram-dimm-ram-24473300\">64 GB DDR5-6400 Corsair Vengeance (2 x 32GB)</a></td>\n      </tr>\n      <tr>\n          <td>280 CHF</td>\n          <td>Disk</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/samsung-990-pro-4000-gb-m2-2280-ssd-37073751?supplier=406802\">4000 GB Samsung 990 Pro</a></td>\n      </tr>\n      <tr>\n          <td>554 CHF</td>\n          <td>GPU</td>\n          <td><a href=\"https://www.digitec.ch/de/s1/product/msi-geforce-rtx-3060-ti-gaming-x-trio-8gb-grafikkarte-14365529\">MSI GeForce RTX 3060 Ti GAMING X TRIO</a></td>\n      </tr>\n  </tbody>\n</table>\n<p>Total: 2350 CHF</p>\n<p>‚Ä¶and the next couple of sections go into detail on how I selected these components.</p>\n<h3 id=\"case\">Case</h3>\n<p>I have been a fan of Fractal cases for a couple of generations. In particular, I\nrealized that the ‚ÄúCompact‚Äù series offers plenty of space even for large\ngraphics cards and CPU coolers, so that‚Äôs now my go-to case: the Fractal Define\n7 Compact (Black Solid).</p>\n<p>My general requirements for a PC case are as follows:</p>\n<ol>\n<li>No extra effort should be required for the case to be as quiet as possible.</li>\n<li>The case should not have any sharp corners (no danger of injury!).</li>\n<li>The case should provide just enough space for easy access to your components.</li>\n<li>The more support the case has to encourage clean cable routing, the better.</li>\n<li>USB3 front panel headers should be included.</li>\n</ol>\n<p>I really like building components into the case and working with the case. There\nare no sharp edges, the mechanisms are a pleasure to use and the\ncable-management is well thought-out.</p>\n<p>The only thing that wasn‚Äôt top-notch is that Fractal ships the case screws in\nsealed plastic packages that you need to cut open. I would have wished for a\nre-sealable plastic baggie so that one can keep the unused screws instead of\nlosing them.</p>\n<p>With this build, I have standardized all my PCs into Fractal Define 7 Compact\nBlack cases!</p>\n<h3 id=\"power-supply\">Power Supply</h3>\n<p>I wanted to keep my options open regarding upgrading to an nvidia 50xx series\ngraphics card at a later point. Those models have a TGP (‚ÄúTotal Graphics Power‚Äù)\nof 575 watts, so I needed a power supply that delivers enough power for the\nwhole system even at peak power usage in all dimensions.</p>\n<p>I ended up selecting the Corsair RM850x, which <a href=\"https://www.tomshardware.com/reviews/corsair-rm850x-2021-power-supply-review\">reviews favorably (‚Äúleader in\nthe 850W gold\ncategory‚Äù)</a>\nand was available at my electronics store of choice.</p>\n<p>This was a good choice: the PSU indeed runs quiet, and I really like the power\ncables (e.g. the GPU cable) that they include: they are very flexible, which\nmakes them easy to cable-manage.</p>\n<p>One interesting realization was that it‚Äôs more convenient to not use the PSU‚Äôs\n12VHPWR cable, but instead stick to the older 8-pin power connectors for the GPU\nin combination with a 12VHPWR-to-8-pin adapter. The reason is that the 12VHPWR\nconnector‚Äôs locking mechanism is very hard to unlock, so when swapping out the\nGPU (as I had to do a number of times while trouble-shooting), unlocking an\n8-pin connector is much easier‚Ä¶</p>\n<h3 id=\"ssd-disk\">SSD disk</h3>\n<p>I have been avoiding PCIe 5 SSDs so far because they consume a lot more power\ncompared to PCIe 4 SSDs. While bulk streaming data transfer rates are higher on\nPCIe 5 SSDs, random transfers are not significantly faster. Most of my compute\nworkload are random transfers, not large bulk transfers.</p>\n<p>The power draw situation with PCIe 5 SSDs seems to be getting better lately,\nwith the Phison E31T being the first controller that implements power saving. A\ndisk that uses the E31T controller is the Corsair Force Series MP700\nElite. Unfortunately, said disk was unavailable when I ordered.</p>\n<p>Instead, I picked the Samsung 990 Pro with 4 TB. I have had good experiences\nwith the Samsung Pro series over the years (never had one die or degrade\nperformance), and my previous 2 TB disk was starting to fill up, so the extra\nstorage space is appreciated.</p>\n<h3 id=\"onboard-25gbe-network-card\">Onboard 2.5GbE Network Card</h3>\n<p>One annoying realization is that most mainboard vendors seem to have moved to\n2.5 GbE (= 2.5 Gbit/s ethernet) onboard network cards. I would have been\nperfectly happy to play it safe and buy another Intel I225 1 GbE network card,\nas long as it <em>just works</em> with Linux.</p>\n<p>In the 2.5 GbE space, the main players seem to be Realtek and Intel. Most\nmainboard vendors opted for Realtek as far as I could see.</p>\n<p>Linux includes the <code>r8169</code> driver for Realtek network cards, but whether the\ncard will work out of the box depends on the exact revision of the network card!\nFor example:</p>\n<ul>\n<li>The AsRock Z890 Pro-A has rev 8125B. lshw:\n<code>firmware=rtl8125b-2_0.0.2 07/13/20</code></li>\n<li>The ASUS PRIME Z890-P has rev 8125<strong>D</strong>. lshw:\n<code>firmware=rtl8125d-1_0.0.7 10/15/24</code></li>\n</ul>\n<p>For revision 8125D, you need a recent-enough Linux version (6.13+) that includes\ncommit ‚Äú<a href=\"https://github.com/torvalds/linux/commit/f75d1fbe7809bc5ed134204b920fd9e2fc5db1df\">r8169: add support for\nRTL8125D</a>‚Äù,\naccompanied by a recent-enough linux-firmware package.</p>\n<p>Even with the latest firmware, there is some concern around stability and ASPM\nsupport. See for example <a href=\"https://serverfault.com/a/1169558\">this ServerFault\npost</a> by someone working on the <code>r8169</code>\ndriver. But, despite the Intel 1 GbE options being well-supported at this point,\nIntel‚Äôs 2.5 GbE options might not fare any better than the Realtek ones: I found\n<a href=\"https://www.reddit.com/r/HomeServer/comments/1cc0yuq/are_intel_25_gbe_nics_i225v_i226v_stable_now/\">reports of instability with Intel‚Äôs 2.5 GbE network\ncards</a>.</p>\n<p>That said, aside from the annoying firmware requirements, the Realtek 2.5 GbE\ncard seems to work fine for me in practice.</p>\n<h3 id=\"mainboard\">Mainboard</h3>\n<p>Despite the suboptimal network card choice, I decided to stick to the ASUS PRIME\nseries of mainboards, as I made good experiences with those in my past few\nbuilds. Here are a couple of thoughts on the ASUS PRIME Z890-P mainboard I went\nwith:</p>\n<ul>\n<li>I like the quick-release PCIe mechanism: ASUS understood that people had\ntrouble unlocking large graphics cards from their PCIe slot, so they added a\nlever-like mechanism that is easily reachable. In my couple of usages, this\nworked pretty well!</li>\n<li>I wrote about <a href=\"/posts/2022-01-15-high-end-linux-pc/#slow-boot\">slow boot times with my 2022 PC\nbuild</a> that were caused by\ntime-consuming memory training. On this ASUS board, I noticed that the board\nblinks the Power LED to signal that memory training is in progress. Very nice!\nIt hadn‚Äôt occurred to me previously that the various phases of the boot could\nbe signaled by different Power LED blinking patterns :)\n<ul>\n<li>The downside of this feature is: While the machine is in suspend-to-RAM, the\nPower LED also blinks! This is annoying, so I might just disconnect the\nPower LED entirely.</li>\n</ul>\n</li>\n<li>The UEFI firmware includes what they call a Q-Dashboard: An overview of what\nis installed/connected in which slot. Quite nice:</li>\n</ul>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_4809.jpg\"><img height=\"357\" src=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_4809_hu_2bc1c1ff7fd21242.jpg\" style=\"border: 1px solid #000;\" width=\"600\" /></a>\n\n\n\n<p>One surprising difference between the two mainboards I tested was that the\nAsRock Z890 Pro-A does not seem to report the correct DIMM clock in <code>lshw</code>,\nwhereas the ASUS does:</p>\n<div class=\"highlight\"><pre tabindex=\"0\"><code class=\"language-diff\"><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">--- lshw-intel-285k-asrock.txt\t2025-04-30 20:35:24 +0200\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+++ lshw-intel-285k-asus.txt\t\t2025-04-30 21:39:52 +0200\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>      *-firmware\n</span></span><span style=\"display: flex;\"><span>           description: BIOS\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-          vendor: American Megatrends International, LLC.\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+          vendor: American Megatrends Inc.\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>           physical id: 0\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-          version: 2.25\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-          date: 03/24/2025\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+          version: 1601\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\">+          date: 02/07/2025\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>           size: 64KiB\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-          capacity: 32MiB\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+          capacity: 16MiB\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>           capabilities: pci upgrade shadowing cdboot bootselect socketedrom edd acpi biosbootspecification uefi\n</span></span><span style=\"display: flex;\"><span>[‚Ä¶]\n</span></span><span style=\"display: flex;\"><span>      *-memory\n</span></span><span style=\"display: flex;\"><span>           description: System Memory\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-          physical id: 9\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+          physical id: e\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>           slot: System board or motherboard\n</span></span><span style=\"display: flex;\"><span>           size: 64GiB\n</span></span><span style=\"display: flex;\"><span>         *-bank:0\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-             description: DIMM [empty]\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+             description: [empty]\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>              physical id: 0\n</span></span><span style=\"display: flex;\"><span>              slot: Controller0-ChannelA-DIMM0\n</span></span><span style=\"display: flex;\"><span>         *-bank:1\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-             description: DIMM Synchronous 4800 MHz (0,2 ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+             description: DIMM Synchronous 6400 MHz (0,2 ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>              product: CMK64GX5M2B6400C32\n</span></span><span style=\"display: flex;\"><span>              vendor: Corsair\n</span></span><span style=\"display: flex;\"><span>              physical id: 1\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #800080; font-weight: bold;\">@@ -40,13 +42,13 @@\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #800080; font-weight: bold;\"></span>              slot: Controller0-ChannelA-DIMM1\n</span></span><span style=\"display: flex;\"><span>              size: 32GiB\n</span></span><span style=\"display: flex;\"><span>              width: 64 bits\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-             clock: 505MHz (2.0ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+             clock: 2105MHz (0.5ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>         *-bank:2\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-             description: DIMM [empty]\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+             description: [empty]\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>              physical id: 2\n</span></span><span style=\"display: flex;\"><span>              slot: Controller0-ChannelB-DIMM0\n</span></span><span style=\"display: flex;\"><span>         *-bank:3\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-             description: DIMM Synchronous 4800 MHz (0,2 ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+             description: DIMM Synchronous 6400 MHz (0,2 ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>              product: CMK64GX5M2B6400C32\n</span></span><span style=\"display: flex;\"><span>              vendor: Corsair\n</span></span><span style=\"display: flex;\"><span>              physical id: 3\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #800080; font-weight: bold;\">@@ -54,7 +56,7 @@\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #800080; font-weight: bold;\"></span>              slot: Controller0-ChannelB-DIMM1\n</span></span><span style=\"display: flex;\"><span>              size: 32GiB\n</span></span><span style=\"display: flex;\"><span>              width: 64 bits\n</span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\">-             clock: 505MHz (2.0ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #a00000;\"></span><span style=\"color: #00a000;\">+             clock: 2105MHz (0.5ns)\n</span></span></span><span style=\"display: flex;\"><span><span style=\"color: #00a000;\"></span>[‚Ä¶]\n</span></span></code></pre></div><p>I haven‚Äôt checked if there are measurable performance differences (e.g. if the\nXMP profile is truly active), but at least you now know to not necessarily trust\nwhat <code>lshw</code> can show you.</p>\n<h3 id=\"cpu-fan\">CPU fan</h3>\n<p>I am a long-time fan of Noctua‚Äôs products: This company makes silent fans with\ngreat cooling capacity that work reliably! For many years, I have swapped out\nall the fans of each of my PCs with Noctua fans, and it was always an\nupgrade. Highly recommended.</p>\n<p>Hence, it is no question that I picked the latest and greatest Noctua CPU cooler\nfor this build: the Noctua NH-D15 G2. There are a couple of things to pay\nattention to with this cooler:</p>\n<ul>\n<li>I decided to configure it with one fan instead of two fans: Using only one fan\nwill be the quietest setup, yet still have plenty of cooling capacity for this\nsetup.</li>\n<li>There are 3 different versions that differ in how their base plate is\nshaped. Noctua recommends: ‚ÄúFor LGA1851, we generally recommend the regular\nstandard version with medium base convexity‚Äù\n(<a href=\"https://noctua.at/en/intel-lga1851-all-you-need-to-know\">https://noctua.at/en/intel-lga1851-all-you-need-to-know</a>)</li>\n<li>With a height of 168 mm, this cooler fits well into the Fractal Define 7\nCompact Black.</li>\n</ul>\n<h3 id=\"cpu-and-gpu-idle-power-vs-peak-performance\">CPU and GPU: Idle Power vs. Peak Performance</h3>\n<h4 id=\"cpu-choice-intel-over-amd\">CPU choice: Intel over AMD</h4>\n<p>Probably the point that raises most questions about this build is why I selected\nan Intel CPU over an AMD CPU. The primary reason is that Intel CPUs are so much\nbetter at power saving!</p>\n<p>Let me explain: Most benchmarks online are for gamers and hence measure a usage\ncurve that goes ‚Äústart game, run PC at 100% resources for hours‚Äù. Of course,\nwhen you never let the machine idle, you would care about <em>power efficiency</em>:\nhow much power do you need to use to achieve the desired result?</p>\n<p>My use-case is software development, not gaming. My usage curve oscillates\nbetween ‚Äúbarely any usage because Michael is reading text‚Äù to ‚Äúcomplete this\ncompilation as quickly as possible with all the power available‚Äù. For me, I need\nboth absolute power consumption at idle, and absolute performance to be\nbest-of-class.</p>\n<p>AMD‚Äôs CPUs offer great performance (the recently released <a href=\"https://www.phoronix.com/review/amd-ryzen-9-9950x3d-linux\">Ryzen 9 9950X3D is\neven faster</a> than the\nIntel 9 285K), and have great <em>power efficiency</em>, but poor <em>power consumption</em>\nat idle: With ‚âà35W of idle power draw, Zen 5 CPUs consume ‚âà3x as much power as\nIntel CPUs!</p>\n<p>Intel‚Äôs CPUs offer great performance (like AMD), but excellent power consumption\nat idle.</p>\n<p>Therefore, I can‚Äôt in good conscience buy an AMD CPU, but if you want a fast\ngaming-only PC or run an always-loaded HPC cluster with those CPUs, definitely\ngo ahead :)</p>\n<h4 id=\"graphics-card-nvidia-over-amd\">Graphics card: nvidia over AMD</h4>\n<p>I don‚Äôt necessarily recommend any particular nvidia graphics card, but I have\nhad to stick to nvidia cards because they are the only option that work with my\npicky <a href=\"/posts/2017-12-11-dell-up3218k/\">Dell UP3218K monitor</a>.</p>\n<p>From time to time, I try out different graphics cards. Recently, I got myself an\nAMD Radeon RX 9070 because I read that it works well with open source drivers.</p>\n<p>While the Radeon RX 9070 works with my monitor (great!), it seems to consume 45W\nin idle, which is much higher than my nvidia cards, which idle at ‚âà 20W. This is\nunacceptable to me: Aside from high power costs and wasting precious resources,\nthe high power draw also means that my room will be hotter in summer and the\nfans need to spin faster and therefore louder.</p>\n<p>People asked me on Social Media if this could be a measurement error (like, the\ncard reporting inaccurate values), so I double-checked with a <a href=\"https://mystrom.ch/de/wifi-switch/\">myStrom WiFi\nSwitch</a> and confirmed that with the Radeon\ncard, the PC indeed draws 20-30W more from the wall socket.</p>\n<h4 id=\"why-low-idle-power-is-so-important\">Why Low Idle Power is so important</h4>\n<p>In the comments for my <a href=\"/posts/2025-03-19-intel-core-ultra-9-285k-on-asus-z890-not-stable/\">my previous blog post about the first build of this\nmachine not running\nstable</a>,\npeople were asking why it is worth it to optimize a few watts of power\nusage. People calculate what higher power usage might cost, put it in relation\nto the total cost of the components, and conclude that saving ¬±10% of the price\ncan‚Äôt possibly be worth the effort.</p>\n<p>Let me try to illustrate the importance of low idle power with this anecdote:\nFor one year, I was suffering from an nvidia driver bug that meant the GPU would\nnot clock down to the most efficient power-saving mode (because of the high\nresolution of my monitor). The 10-20W of difference should have been\ninsignificant. Yet, when the bug was fixed, I noticed how my PC got quieter\n(fans don‚Äôt need to spin up) and my room noticeably cooled down, which was great\nas it was peak temperatures in summer.</p>\n<p>To me, having a whisper-quiet computing environment that does not heat up my\nroom is a great, actual, real-life, measurable benefit. Not wasting resources\nand saving a tiny amount of money is a nice cherry on top.</p>\n<p>Obviously all the factors are very dependent on your specific situation: Your\nhouse‚Äôs thermal behavior might differ from mine, your tolerance for noise\n(and/or baseline noise levels) might be different, you might put more/less\nweight on resource usage, etc.</p>\n<h2 id=\"installation\">Installation</h2>\n<h3 id=\"uefi-setup\">UEFI setup</h3>\n<p>On the internet, I read that there was some issue related to the Power Limits\nthat mainboards come with by default. Therefore, I did a <a href=\"https://www.asus.com/motherboards-components/motherboards/prime/prime-z890-p/helpdesk_bios?model2Name=PRIME-Z890-P\">UEFI firmware\nupdate</a>\nimmediately after getting the mainboard. I upgraded to version 1404 (2025/01/10)\nusing the provided ZIP file (<code>PRIME-Z890-P-ASUS-1404.zip</code>) on an MS-DOS\nFAT-formatted USB stick with the EZ Flash tool in the UEFI firmware\ninterface. Tip: do not extract the ZIP file, otherwise the EZ Flash tool cannot\nupdate the Intel ME firmware. Just put the ZIP file onto the USB disk as-is.</p>\n<p>I verified that with this UEFI version, the <code>Power Limit 1 (PL1)</code> is 250W, and\n<code>ICCMAX=347A</code>, which are exactly the values that Intel recommends. Great!</p>\n<p>I also enabled XMP and verified that memtest86 reported no errors.</p>\n<h3 id=\"software-setup-early-adopter-pains\">Software setup: early adopter pains</h3>\n<p>To copy over the data from the old disk to the new disk, I wanted to boot a live\nlinux distribution (specifically, <a href=\"https://grml.org/\">grml.org</a>) and follow my\nusual procedure: boot with the old disk and the new (empty) disk, then use <code>dd</code>\nto copy the data. It‚Äôs nice and simple, hard to screw up.</p>\n<p>Unfortunately, while grml 2024.12 technically does boot up, there are two big\nproblems:</p>\n<ol>\n<li>\n<p>There is no network connectivity because the kernel and linux-firmware\nversions are too old.</p>\n<ul>\n<li>Kernel commit <a href=\"https://github.com/torvalds/linux/commit/f75d1fbe7809bc5ed134204b920fd9e2fc5db1df\">r8169: add support for\nRTL8125D</a>\nis not included.</li>\n</ul>\n</li>\n<li>\n<p>I could not get Xorg to work at all. Not with the Intel integrated GPU, nor\nwith the nvidia dedicated GPU. Not with <code>nomodeset</code> or any of the other\noptions in the grml menu. This wasn‚Äôt merely a convenience problem: I needed\nto use <code>gparted</code> (the graphical version) for its partition moving/resizing\nsupport.</p>\n</li>\n</ol>\n<p>Ultimately, it was easier to upgrade my old PC to Linux 6.13 and linux-firmware\n20250109, then put in the new disk and copy over the installation.</p>\n<h3 id=\"trim-your-ssds\">TRIM your SSDs</h3>\n<p>SSD disks can degrade over time, so it is essential that the Operating System\ntells the SSD firmware about freed-up blocks (for wear leveling). When using\nfull-disk encryption, all involved layers need to have TRIM support enabled.</p>\n<p>I think I saw the effect of an incorrectly configured TRIM setup in action back\nin 2022, <a href=\"/posts/2022-01-15-high-end-linux-pc/#copying-the-data\">when I copied my data from a Force MP600 to a WD Black\nSN850</a>, which\nunexpectedly took many hours!</p>\n<p>To make sure my disk has a long and healthy life, I double-checked that both\n<a href=\"https://wiki.archlinux.org/title/Solid_state_drive\">periodic and continuous TRIM are\nenabled</a> on my Arch Linux\nsystem: The <a href=\"https://manpages.debian.org/fstab.5\"><code>fstab(5)</code></a>\n file contains the <code>discard</code>\noption (and <a href=\"https://manpages.debian.org/mount.8\"><code>mount(8)</code></a>\n lists the <code>discard</code> option),\nand <code>fstrim.service</code> ran within the last week:</p>\n<pre tabindex=\"0\"><code>systemd[1]: Starting Discard unused blocks on filesystems from /etc/fstab...\nfstrim[779617]: /boot: 10.1 GiB (10799427584 bytes) trimmed on /dev/nvme0n1p1\nfstrim[779617]: /: 1.8 TiB (2018906263552 bytes) trimmed on /dev/mapper/cryptroot\nsystemd[1]: fstrim.service: Deactivated successfully.\n</code></pre><p>Speaking of copying data: the transfer from my WD Black SN850 to my Samsung 990\nPRO ran at 856 MB/s and took about 40 minutes in total.</p>\n<h2 id=\"performance\">Performance</h2>\n<p>Here are the total times for a couple of typical workloads I run:</p>\n<table>\n  <thead>\n      <tr>\n          <th>Workload</th>\n          <th><a href=\"/posts/2022-01-15-high-end-linux-pc/\">12900K (2022)</a></th>\n          <th>285K (2025)</th>\n      </tr>\n  </thead>\n  <tbody>\n      <tr>\n          <td><a href=\"https://go.dev/dl/\">build Go 1.24.3 (<code>cd src; ./make.bash</code>)</a></td>\n          <td>‚âà35s</td>\n          <td>‚âà26s</td>\n      </tr>\n      <tr>\n          <td><a href=\"https://github.com/gokrazy/rsync/tree/0c5ac23ecf8b337dd5672c2ae9f945defa5d0b7f\">gokrazy/rsync tests (<code>make test</code>)</a></td>\n          <td>‚âà0.5s</td>\n          <td>‚âà0.4s</td>\n      </tr>\n      <tr>\n          <td><a href=\"https://github.com/gokrazy/gokrazy/\">gokrazy UEFI test (<code>go test ./integration/...</code>)</a></td>\n          <td>‚âà30s</td>\n          <td>‚âà10s</td>\n      </tr>\n      <tr>\n          <td><a href=\"https://github.com/gokrazy/kernel/tree/699ad7a064b8702dbe91b801ea21c2da2f0e9737\">gokrazy Linux compile (<code>gokr-rebuild-kernel -cross=arm64</code>)</a></td>\n          <td>3m 13s</td>\n          <td>2m 7s</td>\n      </tr>\n  </tbody>\n</table>\n<p>The performance boost is great! Building Linux kernels a whole minute faster is\nreally nice.</p>\n<h2 id=\"stability-issues\">Stability issues</h2>\n<p>In March, I published <a href=\"/posts/2025-03-19-intel-core-ultra-9-285k-on-asus-z890-not-stable/\">an article about how the first build of this machine was\nnot stable</a>,\nin which you can read in detail about the various crashes I ran into.</p>\n<p>Now, in early May, I know for sure that the CPU was defective, after a lengthy\ntrouble-shooting in which I swapped out <strong>all</strong> the other parts of this PC, sent\nback the CPU and got a new one.</p>\n<p>The CPU was the most annoying component to diagnose in this build because it‚Äôs\nan LGA¬†1851 socket and I don‚Äôt (yet) have any other machines which uses\nthat same socket. AMD‚Äôs approach of sticking to each socket for a longer time\nwould have been better in this situation.</p>\n<h3 id=\"stress-testing\">Stress testing</h3>\n<p>When I published my earlier blog post about the PC being unstable, I did not\nreally know how to reliably trigger the issue. Some compute-intensive tasks like\nrunning a Django test suite seemed to trigger the issue. I <em>suspect</em> that the\nproblem somehow got worse, because when I started stress testing the machine,\nsuddenly it would crash <strong>every time</strong> when building a Linux kernel.</p>\n<p>That got me curious to see if other well-known CPU stress testers like\n<a href=\"https://en.wikipedia.org/wiki/Prime95\">Prime95</a> would show problems, and\nindeed: within seconds, Prime95 would report errors.</p>\n<p>I figured I would use Prime95 as a quick signal: if it reports errors, the\nmachine is faulty. This typically happens within seconds of starting Prime95.</p>\n<p>If Prime95 reported no errors, I would use Linux kernel compilation as a slow\nsignal: if I can successfully build a kernel, the machine is likely stable\nenough.</p>\n<p>The specific setup I used is to run <code>./mprime -m</code>, hit N (do not participate in\ndistributed computation projects), then Enter a few times to confirm the\ndefaults. Eventually, Prime95 starts calculating, which pushes the CPU to 100%\nusage (see the <a href=\"https://manpages.debian.org/dstat.1\"><code>dstat(1)</code></a>\n-like output by my\n<a href=\"https://github.com/gokrazy/stat\"><code>gokrazy/stat</code></a> implementation) and draws the\nexpected ‚âà300W of power from the wall:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_5271.jpg\"><img alt=\"photo of running Prime95 to stress-test a CPU\" height=\"339\" src=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_5271_hu_bba47b0510adbc9c.jpg\" style=\"border: 1px solid #000;\" title=\"photo of running Prime95 to stress-test a CPU\" width=\"600\" /></a>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/2025-05-04-power.jpg\"><img alt=\"screenshot of PC power usage\" height=\"216\" src=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/2025-05-04-power_hu_f6e7bcb349fedc2f.jpg\" style=\"border: 1px solid #000;\" title=\"screenshot of PC power usage\" width=\"600\" /></a>\n\n\n\n<p>In addition, I also ran <a href=\"https://en.wikipedia.org/wiki/MemTest86\">MemTest86</a> for\na few hours:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_4821.jpg\"><img alt=\"photo of running memtest86\" height=\"306\" src=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_4821_hu_5b10ba64b206ef86.jpg\" style=\"border: 1px solid #000;\" title=\"photo of running memtest86\" width=\"600\" /></a>\n\n\n\n<p>To be clear: I also successfully ran MemTest86 on the previous, unstable build,\nso only running MemTest86 is not good enough if you are dealing with a faulty\nCPU.</p>\n<h3 id=\"rma-timeline\">RMA timeline</h3>\n<ul>\n<li>Jan 15th: I receive the components for my new PC\n<ul>\n<li>In January and February, the PC crashes occasionally.</li>\n</ul>\n</li>\n<li>Mar 4th: I switch back to my old PC and start writing my blog post</li>\n<li>Mar 19th: I publish my blog post about the machine not being stable\n<ul>\n<li>The online discussion does not result in any interesting tips or leads.</li>\n</ul>\n</li>\n<li>Mar 20th: I order the AsRock Z890 Pro-A mainboard to ensure the mainboard is OK</li>\n<li>Mar 24th: the AsRock Z890 Pro-A arrives</li>\n<li>Apr 5th (Sat): started an RMA for the CPU\n<ul>\n<li>They ask me to send the CPU to orderflow, which is the merchant that fulfilled my order.</li>\n<li>Typically, I prefer buying directly at digitec, but many PC components seem\nto only be available from orderflow on digitec nowadays.</li>\n</ul>\n</li>\n<li>Apr 9th (Wed): package arrives at orderflow (digitec gave me a non-priority return label)</li>\n<li>Apr 14th (Mon): I got the following mail from digitec‚Äôs customer support and\nhad to explain that I have thoroughly diagnosed the CPU as defective (a link\nto my blog post was sufficient):</li>\n</ul>\n<blockquote>\n<p>H√§ndler hat dies beim Hersteller angemeldet und dieser hat folgende Fragen:</p>\n<p>Um sicherzugehen, dass wir Sie richtig verstehen: Sie haben die CPU auf zwei\nverschiedenen Motherboards getestet und das gleiche Problem besteht weiterhin?</p>\n<p>K√∂nnten Sie uns mitteilen, welche Marke und welches Modell die beiden\nverwendeten Motherboards sind?</p>\n<p>Wurde auf beiden Motherboards die neueste BIOS-Version verwendet?</p>\n<p>Bestand das Problem von Anfang an oder trat es erst sp√§ter auf?</p>\n<p>Wurde der Prozessor √ºbertaktet? (Bitte beachten Sie, dass durch √úbertakten die\nGarantie erlischt.)</p>\n</blockquote>\n<ul>\n<li>Apr 25th (Fri): orderflow hands the replacement CPU to Swiss Post</li>\n<li>May 1st (Thu): the machine successfully passes stress tests; I start using it</li>\n</ul>\n<p>In summary, I spent March without a working PC, but that was because I didn‚Äôt\nhave much time to pursue the project. Then, I spent April without a working PC\nbecause RMA&rsquo;ing an Intel CPU through digitec seems pretty slow. I would have\nwished for a little more trust and a replacement CPU right away.</p>\n<h2 id=\"conclusion\">Conclusion</h2>\n<p>What a rollercoaster and time sink this build was! I have never received a\nfaulty-on-arrival CPU in my entire life before. How did the CPU I first received\npass Intel‚Äôs quality control? Or did it pass QC, but was damaged in transport? I\nwill probably never know.</p>\n<p>From now on, I know to extensively stress test new PC builds for stability to\ndetect such issues quicker. Should the CPU be faulty, unfortunately getting it\nreplaced is a month-long process ‚Äî it‚Äôs very annoying to have such a costly\nmachine just gather dust for a month.</p>\n<p>But, once the faulty component was replaced, this is my best PC build yet:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<a href=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_5278.jpg\"><img height=\"800\" src=\"https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/IMG_5278_hu_cc3023c1203ab816.jpg\" style=\"border: 1px solid #000;\" width=\"600\" /></a>\n\n\n\n<p>The case is the perfect size for the components and offers incredibly convenient\naccess to all components throughout the entire lifecycle of this PC, including\nthe troubleshooting period, and the later stages of its life when this PC will\nbe rotated into its ‚Äúlab machine‚Äù period before I sell it second-hand to someone\nwho will hopefully use the machine for another few years.</p>\n<p>The machine is quiet, draws little power (for such a powerful machine) and\nreally packs a punch!</p>\n<p>As usual, I run Linux on this PC and haven‚Äôt noticed any problems in my\nday-to-day usage. I use <a href=\"/posts/2025-05-10-grobi-x11-monitor-autoconfig/#zleep\">suspend-to-RAM multiple times a\nday</a> without any issues.</p>\n<p>I hope some of these details were interesting and useful to you in your own PC\nbuilds!</p>\n<p>If you want to learn about which peripherals I use aside from my 8K monitor\n(e.g. the Kinesis Advantage keyboard, Logitech MX Ergo trackball, etc.), check\nout my post <a href=\"/posts/2020-05-23-desk-setup/\">stapelberg uses this: my 2020 desk\nsetup</a>. I might publish an updated version at\nsome point :)</p>",
  "id": "https://michael.stapelberg.ch/posts/2025-05-15-my-2025-high-end-linux-pc/"
}